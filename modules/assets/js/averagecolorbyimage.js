!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([,,function(t,e,n){(function(rt,it){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
t.exports=function(){"use strict";function r(t){var e=typeof t;return t!==null&&(e==="object"||e==="function")}function c(t){return typeof t==="function"}var t=void 0;if(Array.isArray){t=Array.isArray}else{t=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}var n=t,i=0,e=void 0,o=void 0,u=function t(e,n){_[i]=e;_[i+1]=n;i+=2;if(i===2){if(o){o(b)}else{A()}}};function s(t){o=t}function a(t){u=t}var f=typeof window!=="undefined"?window:undefined,l=f||{},h=l.MutationObserver||l.WebKitMutationObserver,v=typeof self==="undefined"&&typeof rt!=="undefined"&&{}.toString.call(rt)==="[object process]",d=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function p(){return function(){return rt.nextTick(b)}}function y(){if(typeof e!=="undefined"){return function(){e(b)}}return g()}function m(){var t=0;var e=new h(b);var n=document.createTextNode("");e.observe(n,{characterData:true});return function(){n.data=t=++t%2}}function w(){var t=new MessageChannel;t.port1.onmessage=b;return function(){return t.port2.postMessage(0)}}function g(){var t=setTimeout;return function(){return t(b,1)}}var _=new Array(1e3);function b(){for(var t=0;t<i;t+=2){var e=_[t];var n=_[t+1];e(n);_[t]=undefined;_[t+1]=undefined}i=0}function T(){try{var t=Function("return this")().require("vertx");e=t.runOnLoop||t.runOnContext;return y()}catch(t){return g()}}var A=void 0;if(v){A=p()}else if(h){A=m()}else if(d){A=w()}else if(f===undefined&&"function"==="function"){A=T()}else{A=g()}function j(t,e){var n=this;var r=new this.constructor(x);if(r[S]===undefined){$(r)}var i=n._state;if(i){var o=arguments[i-1];u(function(){return H(i,r,o,n._result)})}else{B(n,r,t,e)}return r}function E(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e){return t}var n=new e(x);Y(n,t);return n}var S=Math.random().toString(36).substring(2);function x(){}var O=void 0,M=1,P=2;function k(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function C(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function F(t,r,i){u(function(e){var n=false;var t=C(i,r,function(t){if(n){return}n=true;if(r!==t){Y(e,t)}else{I(e,t)}},function(t){if(n){return}n=true;q(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&t){n=true;q(e,t)}},t)}function R(e,t){if(t._state===M){I(e,t._result)}else if(t._state===P){q(e,t._result)}else{B(t,undefined,function(t){return Y(e,t)},function(t){return q(e,t)})}}function U(t,e,n){if(e.constructor===t.constructor&&n===j&&e.constructor.resolve===E){R(t,e)}else{if(n===undefined){I(t,e)}else if(c(n)){F(t,e,n)}else{I(t,e)}}}function Y(e,t){if(e===t){q(e,k())}else if(r(t)){var n=void 0;try{n=t.then}catch(t){q(e,t);return}U(e,t,n)}else{I(e,t)}}function D(t){if(t._onerror){t._onerror(t._result)}G(t)}function I(t,e){if(t._state!==O){return}t._result=e;t._state=M;if(t._subscribers.length!==0){u(G,t)}}function q(t,e){if(t._state!==O){return}t._state=P;t._result=e;u(D,t)}function B(t,e,n,r){var i=t._subscribers;var o=i.length;t._onerror=null;i[o]=e;i[o+M]=n;i[o+P]=r;if(o===0&&t._state){u(G,t)}}function G(t){var e=t._subscribers;var n=t._state;if(e.length===0){return}var r=void 0,i=void 0,o=t._result;for(var u=0;u<e.length;u+=3){r=e[u];i=e[u+n];if(r){H(n,r,i,o)}else{i(o)}}t._subscribers.length=0}function H(t,e,n,r){var i=c(n),o=void 0,u=void 0,s=true;if(i){try{o=n(r)}catch(t){s=false;u=t}if(e===o){q(e,L());return}}else{o=r}if(e._state!==O){}else if(i&&s){Y(e,o)}else if(s===false){q(e,u)}else if(t===M){I(e,o)}else if(t===P){q(e,o)}}function K(n,t){try{t(function t(e){Y(n,e)},function t(e){q(n,e)})}catch(t){q(n,t)}}var N=0;function W(){return N++}function $(t){t[S]=N++;t._state=undefined;t._result=undefined;t._subscribers=[]}function z(){return new Error("Array Methods must be provided an Array")}var J=function(){function t(t,e){this._instanceConstructor=t;this.promise=new t(x);if(!this.promise[S]){$(this.promise)}if(n(e)){this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0){I(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(e);if(this._remaining===0){I(this.promise,this._result)}}}else{q(this.promise,z())}}t.prototype._enumerate=function t(e){for(var n=0;this._state===O&&n<e.length;n++){this._eachEntry(e[n],n)}};t.prototype._eachEntry=function t(e,n){var r=this._instanceConstructor;var i=r.resolve;if(i===E){var o=void 0;var u=void 0;var s=false;try{o=e.then}catch(t){s=true;u=t}if(o===j&&e._state!==O){this._settledAt(e._state,n,e._result)}else if(typeof o!=="function"){this._remaining--;this._result[n]=e}else if(r===et){var c=new r(x);if(s){q(c,u)}else{U(c,e,o)}this._willSettleAt(c,n)}else{this._willSettleAt(new r(function(t){return t(e)}),n)}}else{this._willSettleAt(i(e),n)}};t.prototype._settledAt=function t(e,n,r){var i=this.promise;if(i._state===O){this._remaining--;if(e===P){q(i,r)}else{this._result[n]=r}}if(this._remaining===0){I(i,this._result)}};t.prototype._willSettleAt=function t(e,n){var r=this;B(e,undefined,function(t){return r._settledAt(M,n,t)},function(t){return r._settledAt(P,n,t)})};return t}();function Q(t){return new J(this,t).promise}function V(i){var o=this;if(n(i))return new o(function(t,e){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(t,e)});else return new o(function(t,e){return e(new TypeError("You must pass an array to race."))})}function X(t){var e=new this(x);return q(e,t),e}function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function tt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var et=function(){function e(t){this[S]=W();this._result=this._state=undefined;this._subscribers=[];if(x!==t){typeof t!=="function"&&Z();this instanceof e?K(this,t):tt()}}e.prototype.catch=function t(e){return this.then(null,e)};e.prototype.finally=function t(e){var n=this;var r=n.constructor;if(c(e)){return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}return n.then(e,e)};return e}();function nt(){var t=void 0;if(void 0!==it)t=it;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=et}return et.prototype.then=j,et.all=function(t){return new J(this,t).promise},et.race=function(i){var o=this;return n(i)?new o(function(t,e){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},et.resolve=E,et.reject=function(t){var e=new this(x);return q(e,t),e},et._setScheduler=function(t){o=t},et._setAsap=function(t){u=t},et._asap=u,et.polyfill=function(){var t=void 0;if(void 0!==it)t=it;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=et},et.Promise=et}()}).call(this,n(3),n(4))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,a=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?a=c.concat(a):l=-1,a.length&&v())}function v(){if(!f){var t=s(h);f=!0;for(var e=a.length;e;){for(c=a,a=[];++l<e;)c&&c[l].run();l=-1,e=a.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new d(t,e)),1!==a.length||f||s(v)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(i){function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return t});var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"setup",value:function(){}},{key:"get",value:function(t){var u=new Image;u.src=t;var s=document.createElement("canvas"),c=s.getContext("2d");return new i(function(o,e){u.onload=function(){s.height=u.height,s.width=u.width,c.drawImage(u,0,0);var t=c.getImageData(0,0,u.width,u.height),n=[0,0,0,0];Array.prototype.forEach.call(t.data,function(t,e){n[e%4]=n[e%4]+t});var e=n[0]/(u.width*u.height),r=n[1]/(u.width*u.height),i=n[2]/(u.width*u.height);o([e,r,i])},u.onerror=function(t){return e(t)}})}},{key:"rgb2hex",value:function(t){return"#"+t.map(function(t){return("0"+t.toString(16)).slice(-2)}).join("")}}])&&o(e.prototype,n),r&&o(e,r),t}()}).call(this,n(2))},function(t,e,n){"use strict";n.r(e);var r=n(5);$(function(t){var i=new r.a,o=t("#preview"),u=t("#color"),n=t("#log");function s(t){var e="";e+=t+"\n",e+="---\n",e+=n.val(),n.val(e)}t("#imageSource").on("change",function(t){var e,n;e=this.files[0],(n=new FileReader).readAsDataURL(e),n.onload=function(){var t=document.createElement("img");t.setAttribute("src",n.result),o.innerHTML="",o.empty().append(t)};var r=window.URL.createObjectURL(this.files[0]);s("src -> "+r),i.get(r).then(function(t){s("R -> "+t[0]+"\nG -> "+t[1]+"\nB -> "+t[2]);var e=i.rgb2hex([Math.floor(t[0]),Math.floor(t[1]),Math.floor(t[2])]);s("hex -> "+e),u.css("background-color",e),u.find("span").text(e)}).catch(function(t){s("Error")})})})}]);